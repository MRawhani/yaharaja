{"version":3,"sources":["actions/types.js","components/rentals/RentalSearchInput.jsx","components/shared/header.jsx","helpers/index.js","components/rentals/rental-listing/Rental.jsx","components/rentals/rental-listing/RentalList.jsx","services/auth-service.js","services/axios-service.js","actions/index.js","components/rentals/rental-listing/RentalListing.jsx","services/casher.js","components/map/GoogleMap.js","components/rentals/rental-details/RentalMap.jsx","components/rentals/rental-details/RentalAssets.jsx","components/shared/form/ResError.jsx","components/booking/BookoingModal.jsx","components/shared/form/Validators.js","components/booking/Booking.jsx","components/rentals/rental-details/RentalDetail.jsx","components/shared/form/renderInput.jsx","components/login/LoginForm.jsx","components/login/Login.jsx","components/register/RegisterForm.jsx","components/register/Register.jsx","components/shared/auth/ProtectedRoute.jsx","components/shared/auth/LoggedInRoute.jsx","components/shared/NotFound.jsx","components/rentals/rental-listing/RentalSearchListing.jsx","components/shared/form/renderTextArea.jsx","components/shared/form/renderSelect.jsx","components/shared/form/rentalFileUpload.jsx","components/rentals/rental-create/CreateRentalForm.jsx","components/rentals/rental-create/CreateRental.jsx","components/booking/BookingManage.jsx","components/rentals/RentalBookings.jsx","components/rentals/RentalManageCard.jsx","components/rentals/RentalManage.jsx","App.js","serviceWorker.js","index.js","reducers/rentalReducer.js","reducers/auth-reducer.js","reducers/booking-reducer.js","reducers/index.js"],"names":["FETCH_RENTALS","FETCH_RENTALS_FAIL","FETCH_RENTALS_INIT","FETCH_RENTAL_By_ID","FETCH_RENTAL_By_ID_INIT","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","FETCH_BOOKINGS_INIT","FETCH_BOOKINGS_SUCCESS","FETCH_BOOKINGS_FAIL","RentalSearchInput","handleKeyPress","event","key","handleSearch","e","preventDefault","history","props","city","searchInputRef","current","value","push","React","createRef","className","onKeyPress","this","ref","type","placeholder","aria-label","onClick","Component","withRouter","Header","handleLogout","logout","renderUserMenu","UncontrolledDropdown","nav","inNavbar","DropdownToggle","caret","auth","username","DropdownMenu","right","DropdownItem","tag","RRNavLink","exact","to","divider","renderAuthButtons","isAuth","Fragment","NavItem","toggle","bind","state","isOpen","setState","Navbar","color","dark","expand","NavbarBrand","NavbarToggler","Collapse","navbar","Nav","connect","getCategoryEnglish","category","getRangeOfDates","startAt","endAt","dateFormat","tempDates","mEndAt","moment","mstartAt","format","add","RentalList","rental","console","log","assets","colorClassname","helper","col","Link","_id","src","alt","street","title","price","coin","bargain","renderRentalList","rentals","map","i","auth_token","getToken","localStorage","getItem","decode","token","jwt","saveToken","setItem","removeToken","removeItem","getUsername","getExpiration","exp","isValid","isBefore","isAuthenticated","axiosInstance","initInstance","axios","create","baseURL","timeout","interceptors","request","use","config","authService","headers","Authorization","getInstance","apiUrl","process","axiosService","fetchRentals","keyword","dispatch","url","get","then","payload","data","catch","err","response","errors","detail","message","register","userData","post","res","Promise","reject","loginSuccess","createBooking","booking","creatRental","rentalData","deleteRental","rentalId","delete","RentalListing","id","instance","Cacher","cache","isVlaueCached","getCachedValue","cachValue","WrappedComponent","MapWithGeoCode","withScriptjs","withGoogleMap","coordinates","isError","defaultZoom","defaultCenter","center","options","disableDefaultUI","radius","position","updateCoordiates","geoCodeLocation","location","geocoder","window","google","maps","Geocoder","resolve","geocode","address","result","status","geometry","lat","lng","cacher","geoCodedLocation","error","RentalMap","googleMapURL","loadingElement","style","height","containerElement","mapElement","r","ResError","length","open","closeModal","confirmModal","onClose","little","classNames","modal","days","guests","totalPrice","min","Booking","getBookedOutDates","bookings","forEach","dateRange","bookedOutValues","checkInvalidDates","date","includes","diff","handleOnApply","picker","startDate","endDate","dateRef","proposedBooking","selectGuests","parseInt","target","canceConformation","confirmProposedData","addNewBookingOutDates","resetInput","reserveBooking","a","actions","toast","success","pathname","htmlFor","onApply","opens","containerStyles","display","isInvalidDate","onChange","aria-describedby","disabled","RentalDetail","fetchRentalById","match","params","image","user","description","RentalAssets","RenderInput","input","label","sympol","meta","touched","warning","minLength4","undefined","required","reduxForm","form","handleSubmit","pristine","submitting","submitForm","valid","onSubmit","Field","name","component","validate","Login","LoginUser","loginAction","successRegister","Redirect","values","email","passwordConfirmation","password","Register","registerUser","registered","redirect","rest","Route","render","authservice","LoginNeede","NotFound","RentalSearchListing","searchRentals","searchKeyword","renderTitle","RenderTextArea","rows","RenderSelect","option","text","rentalFileUpload","accept","CreateRentalForm","categories","RenderFileUpload","coins","coinValue","initialValues","shared","selector","formValueSelector","CreateRental","created","rentalOptions","componentName","renderError","getBookings","isFetching","createdAt","class","userBookings","RentalBookings","openModal","RentalManageCard","showDeleteMenu","wantDelete","hideDeleteMenu","userRental","confirmDelete","RentalManage","rentalIndex","deleteFromRentalUserState","index","prevState","userRentals","filter","_","marginLeft","App","logoutUser","checkAuth","Switch","path","ProtectedRoute","BookingManage","LoggedInRoute","from","Boolean","hostname","store","require","init","ReactDOM","BrowserRouter","basename","document","getElementById","navigator","serviceWorker","ready","registration","unregister","INITIAL_STATE","rentalReducer","action","rentalDetailReducer","authReducer","Object","assign","bookingReducer","reducers","combineReducers","formResucer","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk"],"mappings":"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","file":"static/js/main.cb7eab80.chunk.js","sourcesContent":["export  const FETCH_RENTALS = 'FETCH_RENTALS';\r\nexport  const FETCH_RENTALS_FAIL = 'FETCH_RENTALS_FAIL';\r\nexport  const SEARCH_RENTALS = 'SEARCH_RENTALS';\r\nexport const FETCH_RENTALS_INIT = 'FETCH_RENTALS_INIT';\r\nexport  const FETCH_RENTAL_By_ID = 'FETCH_RENTAL_By_ID';\r\nexport  const FETCH_RENTAL_By_ID_INIT = 'FETCH_RENTAL_By_ID_INIT';\r\nexport  const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport  const LOGIN_FAILURE = 'LOGIN_FAILURE';\r\nexport  const LOGOUT = 'LOGOUT';\r\nexport  const FETCH_BOOKINGS_INIT = 'FETCH_BOOKINGS_INIT';\r\nexport  const FETCH_BOOKINGS_SUCCESS = 'FETCH_BOOKINGS_SUCCESS';\r\nexport  const FETCH_BOOKINGS_FAIL = 'FETCH_BOOKINGS_FAIL';","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nclass RentalSearchInput extends Component {\r\n  constructor() {\r\n    super();\r\n    this.searchInputRef = React.createRef();\r\n  }\r\n  handleKeyPress = event => {\r\n    if (event.key === \"Enter\") {\r\n      this.handleSearch(event);\r\n    }\r\n  };\r\n  handleSearch = (e) => {\r\n    e.preventDefault();\r\n    \r\n    const { history } = this.props;\r\n    const city = this.searchInputRef.current.value;\r\n    \r\n    city ? history.push(`/rentals/${city}/homes`) : history.push(\"/rentals\");\r\n  };\r\n  render() {\r\n    \r\n    return (\r\n      <div>\r\n        <form className=\"form-inline my-2 my-lg-0\">\r\n          <input\r\n            onKeyPress={this.handleKeyPress}\r\n            ref={this.searchInputRef}\r\n            className=\"form-control mr-sm-2 btn-bwm-search bwm-search\"\r\n            type=\"search\"\r\n            placeholder=\"ابحث\"\r\n            aria-label=\"Search\"\r\n          />\r\n          <button\r\n            onClick={this.handleSearch}\r\n            className=\"btn bg-primary text-white my-2 my-sm-0\"\r\n            type=\"submit\"\r\n          >\r\n            بحث\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(RentalSearchInput);\r\n","import React from \"react\";\r\nimport { NavLink as RRNavLink, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Collapse,\r\n  Navbar,\r\n  NavbarToggler,\r\n  NavbarBrand,\r\n  Nav,\r\n  NavItem,\r\n  NavLink,\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem\r\n} from \"reactstrap\";\r\nimport RentalSearchInput from \"../rentals/RentalSearchInput\";\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.state = {\r\n      isOpen: false\r\n    };\r\n  }\r\n  handleLogout = () => {\r\n    this.props.logout();\r\n    this.props.history.push(\"/login\");\r\n  };\r\n  renderUserMenu = () => {\r\n    return (\r\n      <UncontrolledDropdown nav inNavbar className=\"nav-item dropdown\">\r\n        <DropdownToggle nav caret className=\"nav-link nav-item dropdown-toggle\">\r\n          {this.props.auth.username}\r\n        </DropdownToggle>\r\n        <DropdownMenu right>\r\n          <DropdownItem\r\n            tag={RRNavLink}\r\n            exact\r\n            to=\"/rentals/create\"\r\n            className=\"dropdown-item\"\r\n          >\r\n            انشاء مكان\r\n          </DropdownItem>\r\n          <DropdownItem tag={RRNavLink} exact to=\"/rentals/manage\" className=\"dropdown-item\">\r\n            إدارة الأمكنة\r\n          </DropdownItem>\r\n          <DropdownItem divider />\r\n          <DropdownItem tag={RRNavLink} exact to=\"/bookings/manage\" className=\"dropdown-item\">\r\n            إدارة الحجوزات\r\n          </DropdownItem>\r\n        </DropdownMenu>\r\n      </UncontrolledDropdown>\r\n    );\r\n  };\r\n  renderAuthButtons = () => {\r\n    const { isAuth } = this.props.auth;\r\n    if (isAuth) {\r\n      return (\r\n        <React.Fragment>\r\n          {this.renderUserMenu()}\r\n          <NavItem>\r\n            <NavLink onClick={this.handleLogout} className=\"clickable\">\r\n              خروج\r\n            </NavLink>\r\n          </NavItem>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        <NavItem>\r\n          <NavLink tag={RRNavLink} exact to=\"/login\">\r\n            تسجيل الدخول\r\n          </NavLink>\r\n        </NavItem>\r\n        <NavItem>\r\n          <NavLink tag={RRNavLink} exact to=\"/register\">\r\n            تسجيل\r\n          </NavLink>\r\n        </NavItem>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n  toggle() {\r\n    this.setState({\r\n      isOpen: !this.state.isOpen\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Navbar color=\"dark\" dark expand=\"md\">\r\n          <div className=\"container\">\r\n            <NavbarBrand tag={RRNavLink} exact to=\"/\">\r\n              ياحراجاه\r\n            </NavbarBrand>\r\n            <RentalSearchInput />\r\n            <NavbarToggler onClick={this.toggle} />\r\n            <Collapse isOpen={this.state.isOpen} navbar>\r\n              <Nav className=\"ml-auto\" navbar>\r\n                {this.renderAuthButtons()}\r\n              </Nav>\r\n            </Collapse>\r\n          </div>\r\n        </Navbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    auth: state.auth\r\n  };\r\n};\r\nexport default withRouter(connect(mapStateToProps)(Header));\r\n"," import * as moment from 'moment'\r\n const getCategoryEnglish = category =>{\r\n    if(category==='فلة') return 'villa'\r\n    else  if(category==='شقة') return 'appartment'\r\n    else  if(category==='أرض') return 'land'\r\n    else  if(category==='بيت') return 'house'\r\n    else return 'otherTypes'\r\n}\r\nconst getRangeOfDates = (startAt, endAt, dateFormat)=>{\r\n    const tempDates =[];\r\n    const mEndAt = moment(endAt);\r\n    let mstartAt = moment(startAt);\r\n\r\n    while(mstartAt < mEndAt){\r\n        tempDates.push(mstartAt.format(dateFormat));\r\n        mstartAt = mstartAt.add(1,'day');\r\n    }\r\n\r\n    tempDates.push(mEndAt.format(dateFormat));\r\n\r\n    return tempDates;\r\n}\r\nexport default {\r\n    getCategoryEnglish,\r\n    getRangeOfDates\r\n}","import React, { Component } from \"react\";\r\nimport {Link } from 'react-router-dom';\r\nimport helper from './../../../helpers'\r\n\r\nexport default class RentalList extends Component {\r\n  render() {\r\n    const rental = this.props.rental;\r\n    console.log(rental.assets);\r\n    const colorClassname = helper.getCategoryEnglish(`${rental.category}`)\r\n    return (\r\n      <div className={`${this.props.col}`}>\r\n        <Link to={`/rentaldetails/${rental._id}`}>\r\n        <div className=\"card bwm-card\">\r\n          <img\r\n            className=\"card-img-top\"\r\n            src=\"http://via.placeholder.com/350x250\"\r\n            alt=\"\"\r\n          />\r\n          <div className=\"card-block\">\r\n            <h6 className={`card-subtitle ${colorClassname}` }>\r\n              {rental.city} &#183; {rental.street}\r\n            </h6>\r\n            <h4 className=\"card-title\">{rental.title}</h4>\r\n            <h6 className={`card-subtitle ${colorClassname}`}>\r\n              {rental.category} &#183; {rental.type}\r\n            </h6>\r\n            <p className=\"card-text\">\r\n              {rental.price}\r\n              {rental.coin}&#183;{\" \"}\r\n              {rental.bargain ? \"قابل للتفاوض\" : \"غير قابل للتفاض\"}{\" \"}\r\n            </p>\r\n           \r\n          </div>\r\n        </div>\r\n    \r\n        </Link>\r\n         </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport Rental from \"./Rental\";\r\nclass RentalList extends Component {\r\n\r\n\r\n\r\n  renderRentalList = () => {\r\n    return this.props.rentals.map((rental,i) => {\r\n      return <Rental key={i} col=\"col-md-3 col-xs-6\" rental={rental}/>;\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n \r\n          <div className=\"row\">{this.renderRentalList()}</div>\r\n    );\r\n  }\r\n  \r\n}\r\n\r\nexport default RentalList;","import * as jwt from \"jsonwebtoken\";\r\nimport * as moment from \"moment\";\r\n\r\nclass AuthService {\r\n  auth_token = \"auth_token\";\r\n  getToken = () => {\r\n    return localStorage.getItem(this.auth_token);\r\n  };\r\n\r\n  decode = token => {\r\n    return jwt.decode(token);\r\n  };\r\n  saveToken = (token) => {\r\n    localStorage.setItem(this.auth_token,token);\r\n  };\r\n  removeToken = () => {\r\n    localStorage.removeItem(this.auth_token);\r\n  };\r\n  getUsername=()=>{\r\n    return this.decode(this.getToken()).username;\r\n  }\r\n  getExpiration = token => {\r\n    const exp = this.decode(token).exp;\r\n\r\n    return moment.unix(exp);\r\n  };\r\n  isValid = token => {\r\n    return moment().isBefore(this.getExpiration(token));\r\n  };\r\n\r\n  isAuthenticated = () => {\r\n   \r\n    const token = this.getToken();\r\n    return token && this.isValid(token) ? true : false;\r\n  };\r\n}\r\n\r\nexport default new AuthService();\r\n","import axios from 'axios';\r\nimport authService from './auth-service'\r\n//import {toast} from 'react-toastify'\r\nclass AxiosInstance {\r\n    \r\n    constructor(){\r\n        this.initInstance();\r\n    }\r\n    axiosInstance ={};\r\n\r\n    initInstance =()=>{\r\n        this.axiosInstance = axios.create({\r\n            baseURL:'',\r\n            timeout:6000\r\n        })\r\n\r\n        this.axiosInstance.interceptors.request.use(\r\n            (config)=>{\r\n                const token = authService.getToken();\r\n                if(token){\r\n                    config.headers.Authorization = `Bearer ${token}`\r\n                }\r\n                return config\r\n            }\r\n        )\r\n                \r\n// this.axiosInstance.interceptors.response.use(null, error => {\r\n//     const expectedError =\r\n//       error.response &&\r\n//       error.response.status >= 400 &&\r\n//       error.response.status < 500;\r\n  \r\n//     if (!expectedError) {\r\n      \r\n//      toast.error(\"An unexpected error occurrred.\");\r\n//     }\r\n// })\r\n\r\n        return this.axiosInstance;\r\n    }\r\n\r\n    getInstance = ()=>{\r\n        return this.axiosInstance || this.initInstance();\r\n    }\r\n}\r\n\r\n\r\nexport default new AxiosInstance();","import {\r\n  FETCH_RENTALS,\r\n  FETCH_RENTAL_By_ID,\r\n  FETCH_RENTAL_By_ID_INIT,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAILURE,\r\n  LOGOUT,\r\n  FETCH_RENTALS_FAIL,\r\n  FETCH_RENTALS_INIT,\r\n  FETCH_BOOKINGS_SUCCESS,\r\n  FETCH_BOOKINGS_FAIL,\r\n  FETCH_BOOKINGS_INIT\r\n} from \"./types\";\r\nimport axios from \"axios\";\r\nimport authService from \"../services/auth-service\";\r\nimport axiosService from \"../services/axios-service\";\r\nconst apiUrl = process.env.REACT_APP_API_URL;\r\nconst axiosInstance = axiosService.getInstance();\r\n/// Rentals\r\nexport const fetchRentals = keyword => dispatch => {\r\n  const url = keyword ? `rentals?city=${keyword}` : \"rentals\";\r\n  console.log(\"Log: \" + url);\r\n\r\n  dispatch({ type: FETCH_RENTALS_INIT });\r\n\r\n  axiosInstance\r\n    .get(`${apiUrl}/${url}`)\r\n    .then(rentals => {\r\n      dispatch({ type: FETCH_RENTALS, payload: rentals.data });\r\n    })\r\n    .catch(err => {\r\n      dispatch({\r\n        type: FETCH_RENTALS_FAIL,\r\n        payload: err.response\r\n          ? err.response.data.errors\r\n          : [{ detail: err.message }]\r\n      });\r\n    });\r\n};\r\n\r\n//the dispatch from the middle ware\r\nexport const fetchRentalById = id => dispatch => {\r\n  dispatch({ type: FETCH_RENTAL_By_ID_INIT });\r\n\r\n  return axios\r\n    .get(`${apiUrl}/rentals/${id}`)\r\n    .then(rental => {\r\n      dispatch({ type: FETCH_RENTAL_By_ID, payload: rental.data });\r\n      return rental.data;\r\n    })\r\n    .catch(err => {\r\n      return Promise.reject(err);\r\n    });\r\n};\r\n\r\n//USers\r\n\r\nexport const register = userData => {\r\n  return axios.post(`${apiUrl}/users/register`, userData).then(\r\n    res => {\r\n      return res.data;\r\n    },\r\n    err => {\r\n      return Promise.reject(err.response.data.errors);\r\n    }\r\n  );\r\n};\r\n\r\nconst loginSuccess = () => {\r\n  const username = authService.getUsername();\r\n  return {\r\n    type: LOGIN_SUCCESS,\r\n    payload: username\r\n  };\r\n};\r\nconst loginfailure = errors => {\r\n  return {\r\n    type: LOGIN_FAILURE,\r\n    payload: errors\r\n  };\r\n};\r\nexport const checkAuth = () => dispatch => {\r\n  if (authService.isAuthenticated()) {\r\n    dispatch(loginSuccess());\r\n  }\r\n};\r\n// another way of setting thunk's dispatch\r\nexport const loginAction = userData => {\r\n  return dispatch => {\r\n    axios\r\n      .post(`${apiUrl}/users/auth`, userData)\r\n      .then(res => res.data)\r\n      .then(token => {\r\n        authService.saveToken(token);\r\n        dispatch(loginSuccess());\r\n      })\r\n      .catch(err => {\r\n        dispatch(loginfailure(err.response.data.errors));\r\n      });\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  authService.removeToken();\r\n  return {\r\n    type: LOGOUT\r\n  };\r\n};\r\n\r\nexport const createBooking = booking => {\r\n  debugger\r\n  return axiosInstance\r\n    .post(`${apiUrl}/bookings/`, booking)\r\n    .then(res => {\r\n      return res.data;\r\n    })\r\n    .catch(response => Promise.reject(response.response.data.errors));\r\n};\r\n\r\nexport const getBookings = () => dispatch => {\r\n  dispatch({ type: FETCH_BOOKINGS_INIT });\r\n  axiosInstance\r\n    .get(`${apiUrl}/bookings/manage`)\r\n    .then(res => {\r\n      dispatch({ type: FETCH_BOOKINGS_SUCCESS, payload: res.data });\r\n    })\r\n    .catch(err => {\r\n      dispatch({\r\n        type: FETCH_BOOKINGS_FAIL,\r\n        payload: err.response\r\n          ? err.response.data.errors\r\n          : [{ detail: err.message }]\r\n      });\r\n    });\r\n};\r\n\r\nexport const getRentals = ()=>{\r\n  return axiosInstance.get(`${apiUrl}/rentals/manage`).then(\r\n    res => {\r\n      return res.data;\r\n    },\r\n    err => {\r\n      return Promise.reject(err.response.data.errors);\r\n    }\r\n  );\r\n}\r\nexport const creatRental = rentalData => {\r\n  return axiosInstance.post(`${apiUrl}/rentals`, rentalData).then(\r\n    res => {\r\n      return res.data;\r\n    },\r\n    err => {\r\n      return Promise.reject(err.response.data.errors);\r\n    }\r\n  );\r\n};\r\n\r\nexport const deleteRental = rentalId => {\r\n  return axiosInstance.delete(`${apiUrl}/rentals/${rentalId}`).then(\r\n    res => {\r\n      return res.data;\r\n    },\r\n    err => {\r\n      return Promise.reject(err.response.data.errors);\r\n    }\r\n  );\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport RentalList from \"./RentalList\";\r\nimport { fetchRentals } from \"../../../actions\";\r\nclass RentalListing extends Component {\r\n  componentDidMount() {\r\n    \r\n    this.props.fetchRentals();\r\n  }\r\n  render() {\r\n    \r\n    return (\r\n      <div className=\"container\">\r\n        <section id=\"rentalListing\">\r\n          <h1 className=\"page-title\">البيوت والشقق المعروضة</h1>\r\n          <RentalList rentals={this.props.rentals} />\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    rentals: state.rentals.data\r\n  };\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchRentals }\r\n)(RentalListing);\r\n","\r\nlet instance = null;\r\nexport class Cacher{\r\n    cache ={};\r\n    constructor(){\r\n        \r\n        if(!instance){\r\n            instance = this;\r\n        }\r\n\r\n        return instance;\r\n    }\r\n   \r\n    \r\n    isVlaueCached=(key)=>{\r\n        \r\n        return this.getCachedValue(key);\r\n    }\r\n\r\n    cachValue=(key, value)=>{\r\n        this.cache[key] = value;\r\n    }\r\n\r\n    getCachedValue=(key)=>{\r\n   \r\n        return this.cache[key];\r\n    }\r\n}","import React from \"react\";\r\nimport { Cacher } from \"./../../services/casher\";\r\nimport {\r\n  withScriptjs,\r\n  withGoogleMap,\r\n  GoogleMap,\r\n  \r\n  Circle,\r\n  InfoWindow\r\n} from \"react-google-maps\";\r\nfunction mapComponent(props) {\r\n  const { coordinates, isError } = props;\r\n\r\n  return (\r\n    <GoogleMap\r\n      defaultZoom={15}\r\n      defaultCenter={coordinates}\r\n      center={coordinates}\r\n      options={{disableDefaultUI: isError ? true : false}}\r\n    >\r\n      {!isError && <Circle center={coordinates} radius={500} />}\r\n      {isError && (\r\n        <InfoWindow position={coordinates}>\r\n          <div>أوبس! في مشكلة في العنوان، راجع صحة العنوان المدخل.</div>\r\n        </InfoWindow>\r\n      )}\r\n    </GoogleMap>\r\n  );\r\n}\r\nfunction withGeoCode(WrappedComponent) {\r\n  return class extends React.Component {\r\n    constructor() {\r\n      super();\r\n      this.cacher = new Cacher();\r\n      this.state = {\r\n        coordinates: {\r\n          lat: 0,\r\n          lng: 0\r\n        },\r\n        isError: false\r\n      };\r\n    }\r\n    componentDidMount() {\r\n      this.geoCodedLocation();\r\n    }\r\n\r\n    updateCoordiates=(coordinates)=>{\r\n        this.setState({ coordinates });\r\n    }\r\n    geoCodeLocation = location => {\r\n      const geocoder = new window.google.maps.Geocoder();\r\n      return new Promise((resolve, reject) => {\r\n        geocoder.geocode({ address: location }, (result, status) => {\r\n          if (status === \"OK\") {\r\n            const geometry = result[0].geometry.location;\r\n            const coordinates = { lat: geometry.lat(), lng: geometry.lng() };\r\n\r\n            this.cacher.cachValue(location, coordinates);\r\n            resolve(coordinates);\r\n          } else {\r\n            reject(\"ERROR\");\r\n          }\r\n        });\r\n      });\r\n    };\r\n    geoCodedLocation = () => {\r\n      const location = this.props.location;\r\n\r\n      // if location is chched is cached return values\r\n\r\n      if (this.cacher.isVlaueCached(location)) {\r\n        this.updateCoordiates( this.cacher.getCachedValue(location))\r\n      }\r\n      //else geocode location\r\n      else {\r\n        this.geoCodeLocation(location).then(\r\n          coordinates => {\r\n            this.updateCoordiates( coordinates)\r\n          },\r\n          error => {\r\n            this.setState({ isError: true });\r\n          }\r\n        );\r\n      }\r\n    };\r\n    render() {\r\n      return <WrappedComponent {...this.state} />;\r\n    }\r\n  };\r\n}\r\nexport const MapWithGeoCode = withScriptjs(\r\n  withGoogleMap(withGeoCode(mapComponent))\r\n);\r\n","import React, { Component } from \"react\";\r\nimport {MapWithGeoCode} from './../../map/GoogleMap'\r\nexport default class RentalMap extends Component {\r\n  render() {\r\n      const location = this.props.location;\r\n     \r\n    return (\r\n      <MapWithGeoCode\r\n        googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBp-sz2l9XZTAnBS5HRaZngh98h5ua1HV0&libraries=geometry,drawing,places\"\r\n        loadingElement={<div style={{ height: `100%` }} />}\r\n        containerElement={<div style={{ height: `360px` }} />}\r\n        mapElement={<div style={{ height: `100%` }} />}\r\n        location={location}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default ({ rentals }) => {\r\n  return (\r\n    <div className=\"rental-assets\">\r\n      <h3 className=\"title\">مواصفات</h3>\r\n      <div className=\"row\">\r\n        {rentals.assets.map((r, i) => (\r\n          <div className=\"col-md-6\" key={i}>\r\n            <span>\r\n              <i className=\"fa fa-desktop\"></i> {r}\r\n            </span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nexport function ResError(props) {\r\n  const errors = props.errors;\r\n\r\n  return (\r\n    errors.length > 0 && (\r\n      <div className=\"alert alert-danger app-res-errors\">\r\n        {errors.map((error, i) => (\r\n          <p key={i}>{error.detail}</p>\r\n        ))}\r\n      </div>\r\n    )\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Modal from \"react-responsive-modal\";\r\nimport {ResError} from './../shared/form/ResError'\r\nexport default props => {\r\n  const { open, closeModal,booking,confirmModal,errors } = props;\r\n  \r\n  return (\r\n    <Modal\r\n      open={open}\r\n      onClose={closeModal}\r\n      little\r\n      classNames={{ modal: \"booking-modal\" }}\r\n    >\r\n      <h4 className=\"modal-title title pt-5\">تأكيد الحجز </h4>\r\n      <p className=\"dates\">{booking.startAt} / {booking.endAt}</p>\r\n      <div className=\"modal-body\">\r\n        <em>{booking.days} </em> ليالي /<em>{booking.rental.price}$</em> لليلة\r\n        <p>\r\n          ضيوف: <em>{booking.guests}</em>\r\n        </p>\r\n        <p>\r\n          إجمالي: <em>{booking.totalPrice}</em>\r\n        </p>\r\n        <p>هل تريد تأكيد الحجز؟</p>\r\n      </div>\r\n      <ResError errors={errors}/>\r\n      <div className=\"modal-footer\">\r\n        <button onClick={confirmModal} type=\"button\" className=\"btn btn-primary\">\r\n          تأكيد\r\n        </button>\r\n        <button type=\"button\" onClick={closeModal} className=\"btn btn-primary\">\r\n          الغاء\r\n        </button>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n","\r\nconst minLength = min => value => \r\n    value && value.length < min ? `Must be ${min} chars` : undefined\r\n\r\n export const minLength4 = minLength(4);\r\nexport const required = value => value ? undefined : 'This input is required'","import React from \"react\";\r\nimport DateRangePicker from \"react-bootstrap-daterangepicker\";\r\nimport BookingModal from \"./BookoingModal\";\r\nimport helper from \"../../helpers/index\";\r\nimport moment from \"moment\";\r\nimport {Link} from 'react-router-dom'\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport * as actions from \"./../../actions\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass Booking extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.dateRef = React.createRef();\r\n    this.bookedOutValues = [];\r\n    this.state = {\r\n      proposedBooking: {\r\n        startAt: \"\",\r\n        endAt: \"\",\r\n        guests: \"\",\r\n        rental: {}\r\n      },\r\n      open: false,\r\n      errors: []\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.getBookedOutDates();\r\n  }\r\n  getBookedOutDates = () => {\r\n    const { bookings } = this.props.rental;\r\n\r\n    if (bookings && bookings.length > 0) {\r\n      bookings.forEach(booking => {\r\n        const dateRange = helper.getRangeOfDates(\r\n          booking.startAt,\r\n          booking.endAt,\r\n          \"Y/MM/DD\"\r\n        );\r\n\r\n        this.bookedOutValues.push(...dateRange);\r\n        console.log(this.bookedOutValues);\r\n      });\r\n    }\r\n  };\r\n  checkInvalidDates = date => {\r\n    return (\r\n      this.bookedOutValues.includes(date.format(\"Y/MM/DD\")) ||\r\n      date.diff(moment(), \"days\") < 0\r\n    );\r\n  };\r\n  handleOnApply = (event, picker) => {\r\n    const startAt = picker.startDate.format(\"Y/MM/DD\");\r\n    const endAt = picker.endDate.format(\"Y/MM/DD\");\r\n    this.dateRef.current.value = \" من \" + startAt + \" الى \" + endAt;\r\n    this.setState({\r\n      proposedBooking: {\r\n        ...this.state.proposedBooking,\r\n        startAt,\r\n        endAt\r\n      }\r\n    });\r\n    console.log(this.state);\r\n  };\r\n  selectGuests = event => {\r\n    this.setState({\r\n      proposedBooking: {\r\n        ...this.state.proposedBooking,\r\n        guests: parseInt(event.target.value)\r\n      }\r\n    });\r\n  };\r\n  canceConformation = () => {\r\n    this.setState({\r\n      open: false,\r\n      errors: []\r\n    });\r\n  };\r\n  confirmProposedData = () => {\r\n    const { startAt, endAt } = this.state.proposedBooking;\r\n    const days = helper.getRangeOfDates(startAt, endAt, \"YY/MM/DD\").length - 0;\r\n    const { rental } = this.props;\r\n    this.setState({\r\n      open: true,\r\n      proposedBooking: {\r\n        ...this.state.proposedBooking,\r\n        days,\r\n        rental,\r\n        totalPrice: days * rental.price\r\n      }\r\n    });\r\n  };\r\n  addNewBookingOutDates = booking => {\r\n    const dateRange = helper.getRangeOfDates(\r\n      booking.startAt,\r\n      booking.endAt,\r\n      \"Y/MM/DD\"\r\n    );\r\n\r\n    this.bookedOutValues.push(...dateRange);\r\n  };\r\n  resetInput = () => {\r\n    this.dateRef.current.value = \"\";\r\n    this.setState({\r\n      proposedBooking: { startAt: \"\", endAt: \"\", guests: 0, rental: {} }\r\n    });\r\n  };\r\n  reserveBooking = async () => {\r\n    try {\r\n      const booking = await actions.createBooking(this.state.proposedBooking);\r\n      this.addNewBookingOutDates(booking);\r\n      this.canceConformation();\r\n      this.resetInput();\r\n      toast.success(\"تم انشاء الحجز\");\r\n    } catch (errors) {\r\n      this.setState({\r\n        errors\r\n      });\r\n    }\r\n  };\r\n  render() {\r\n    const {\r\n      rental,\r\n      isAuth\r\n    } = this.props;\r\n    debugger\r\n    const { startAt, endAt, guests } = this.state.proposedBooking;\r\n    return (\r\n      <div className=\"booking\">\r\n        <ToastContainer />\r\n        <h3 className=\"booking-price\">\r\n          $ {rental.price} <span className=\"booking-per-night\">لليلة</span>\r\n        </h3>\r\n        <hr></hr>\r\n        {\r\n          !isAuth &&   <Link\r\n         to={{pathname:'/login'}}\r\n          className=\"btn bg-primary btn-confirm btn-block\"\r\n        >\r\n         Login\r\n        </Link>\r\n        }\r\n        {isAuth && (\r\n          <React.Fragment>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"dates\">التارريخ</label>\r\n              <DateRangePicker\r\n                onApply={this.handleOnApply}\r\n                opens=\"right\"\r\n                containerStyles={{ display: \"block\" }}\r\n                isInvalidDate={this.checkInvalidDates}\r\n              >\r\n                <input\r\n                  ref={this.dateRef}\r\n                  id=\"dates\"\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                ></input>\r\n              </DateRangePicker>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"guests\">ضيوف</label>\r\n              <input\r\n                onChange={this.selectGuests}\r\n                type=\"number\"\r\n                className=\"form-control\"\r\n                id=\"guests\"\r\n                aria-describedby=\"guest\"\r\n                placeholder=\"\"\r\n                value={this.state.proposedBooking.guests}\r\n              ></input>\r\n            </div>\r\n            <button\r\n              disabled={!startAt || !endAt || !guests}\r\n              onClick={this.confirmProposedData}\r\n              className=\"btn btn-primary btn-confirm btn-block\"\r\n            >\r\n              قم بالحجز الآن\r\n            </button>\r\n          </React.Fragment>\r\n        )}\r\n        <hr></hr>\r\n        <p className=\"booking-note-title\">\r\n          People are interested into this house\r\n        </p>\r\n        <p className=\"booking-note-text\">\r\n          More than 500 people checked this rental in last month.\r\n        </p>\r\n        <BookingModal\r\n          closeModal={this.canceConformation}\r\n          open={this.state.open}\r\n          booking={this.state.proposedBooking}\r\n          confirmModal={this.reserveBooking}\r\n          errors={this.state.errors}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  debugger\r\n  return {\r\n    isAuth:state.auth.isAuth\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(Booking);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport RentalMap from \"./RentalMap\";\r\nimport { fetchRentalById } from \"../../../actions\";\r\nimport RentalAssets from \"./RentalAssets\";\r\nimport helper from \"./../../../helpers\";\r\nimport Booking  from \"../../booking/Booking\";\r\nclass RentalDetail extends Component {\r\n  componentDidMount() {\r\n    // const rentaId= parseInt(this.props.match.params.id,10);\r\n\r\n    this.props.fetchRentalById(this.props.match.params.id);\r\n  }\r\n\r\n  render() {\r\n    const { rental } = this.props;\r\n    const colorClassname = helper.getCategoryEnglish(`${rental.category}`);\r\n    if (rental._id) {\r\n      return (\r\n        <section id=\"rentalDetails\">\r\n          <div className=\"upper-section\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\">\r\n                <img src={rental.image} alt=\"\"></img>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <RentalMap location={`${rental.city},${rental.street}`} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"details-section\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-8\">\r\n                <div className=\"rental\">\r\n                  <h2 className={`rental-type ${colorClassname}`}>\r\n                    {rental.city} &#183; {rental.street}\r\n                  </h2>\r\n                  <div className=\"rental-owner\">\r\n                    <img\r\n                      src=\"https://api.adorable.io/avatars/285/abott@adorable.png\"\r\n                      alt=\"owner\"\r\n                    />\r\n                    <span>{rental.user && rental.user.username}</span>\r\n                  </div>\r\n\r\n                  <h1 className=\"rental-title\">{rental.title}</h1>\r\n                  <h2 className={`rental-city  ${colorClassname}`}>\r\n                    {rental.category} &#183; {rental.type}\r\n                  </h2>\r\n\r\n                  <p className=\"rental-description\">{rental.description}</p>\r\n                  <hr></hr>\r\n                  <RentalAssets rentals={rental} />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                {\" \"}\r\n                <Booking rental={rental} />{\" \"}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      );\r\n    } else {\r\n      return <h3>loading...</h3>;\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    rental: state.rental.data\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchRentalById }\r\n)(RentalDetail);\r\n","import React from \"react\";\r\n\r\nexport const RenderInput = ({\r\n  input,\r\n  label,\r\n  type,\r\n  className,\r\n  sympol,\r\n  meta: { touched, error, warning }\r\n}) => (\r\n  <div className=\"form-group\">\r\n    <label>{label}</label>\r\n    <div className={\"input-group\"}>\r\n      {sympol && (\r\n        <div className=\"input-group-prepend\">\r\n          <div className=\"input-group-text\">{sympol}</div>\r\n        </div>\r\n      )}\r\n      <input {...input} type={type} className={className} />\r\n    </div>\r\n    {touched && (error && <div className=\"alert alert-danger\">{error}</div>)}\r\n  </div>\r\n);\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { RenderInput } from \"./../shared/form/renderInput\";\r\nimport { minLength4,required } from \"./../shared/form/Validators\";\r\nimport { ResError } from \"./../shared/form/ResError\";\r\nconst LoginForm = props => {\r\n  const {\r\n    handleSubmit,\r\n    pristine,\r\n    \r\n    submitting,\r\n    submitForm,\r\n    valid,\r\n    errors\r\n  } = props;\r\n  return (\r\n    <form onSubmit={handleSubmit(submitForm)}>\r\n  \r\n\r\n      <Field\r\n        name=\"email\"\r\n        \r\n        type=\"email\"\r\n        label=\"ايميل\"\r\n        className=\"form-control\"\r\n        component={RenderInput}\r\n        validate= {[required,minLength4] }\r\n      />\r\n\r\n      <Field\r\n        name=\"password\"\r\n        \r\n        type=\"password\"\r\n        label=\"كلمة المرور\"\r\n        className=\"form-control\"\r\n        component={RenderInput}\r\n        validate={[required]}\r\n      />\r\n\r\n\r\n      <button\r\n        className=\"btn btn-primary\"\r\n        type=\"submit\"\r\n        disabled={!valid || pristine || submitting}\r\n      >\r\n        نسجيل\r\n      </button>\r\n\r\n     <ResError errors={errors}/> \r\n    </form>\r\n  );\r\n};\r\n\r\nexport default reduxForm({\r\n  form: \"LoginForm\" // a unique identifier for this form,\r\n\r\n})(LoginForm);\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport {connect} from 'react-redux'\r\nimport LoginForm from './LoginForm';\r\nimport {loginAction} from './../../actions'\r\n\r\nclass Login extends Component {\r\n    LoginUser = (userData)=>{\r\n        this.props.loginAction(userData);\r\n    }\r\n    render() {\r\n        const {errors,isAuth} = this.props.auth;\r\n        const {successRegister} = this.props.location.state || false;\r\n\r\n\r\n        if(isAuth){\r\n            return <Redirect to={{pathname:'/rentals'}}/>\r\n        }\r\n        return (\r\n            <section id=\"login\">\r\n            <div className=\"app-form\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-5\">\r\n                  <h1>تسجيل الدخول</h1>\r\n                  {\r\n                    successRegister && \r\n                    <div className='alert alert-success'>\r\n                      <p>تم التسجيل</p>\r\n                    </div>\r\n                  }\r\n                <LoginForm submitForm={this.LoginUser} errors={errors}/>\r\n                </div>\r\n                <div className=\"col-md-6 ml-auto\">\r\n                  <div className=\"image-container\">\r\n                    <h2 className=\"catchphrase\">Hundreds of awesome places in reach of few clicks.</h2>\r\n                    <img src={process.env.PUBLIC_URL+'/img/login-img.jpg'} alt=\"login-img.jpg\"/>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    \r\n    return {\r\n        \r\n      auth: state.auth\r\n    };\r\n  };\r\nexport default connect(\r\n    mapStateToProps,\r\n    { loginAction }\r\n  )(Login);\r\n  ","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { RenderInput } from \"./../shared/form/renderInput\";\r\nimport { ResError } from \"./../shared/form/ResError\";\r\n\r\nconst RegisterForm = props => {\r\n  const {\r\n    handleSubmit,\r\n    pristine,\r\n    submitting,\r\n    submitForm,\r\n    valid,\r\n    errors\r\n  } = props;\r\n  return (\r\n    <form onSubmit={handleSubmit(submitForm)}>\r\n      <Field\r\n        className=\"form-control\"\r\n        name=\"username\"\r\n        \r\n        label=\"اسم المستخدم\"\r\n        type=\"text\"\r\n        component={RenderInput}\r\n      />\r\n\r\n      <Field\r\n        name=\"email\"\r\n        \r\n        type=\"email\"\r\n        label=\"ايميل\"\r\n        className=\"form-control\"\r\n        component={RenderInput}\r\n      />\r\n\r\n      <Field\r\n        name=\"password\"\r\n        \r\n        type=\"password\"\r\n        label=\"كلمة المرور\"\r\n        className=\"form-control\"\r\n        component={RenderInput}\r\n      />\r\n\r\n      <Field\r\n        name=\"passwordConfirmation\"\r\n        \r\n        type=\"password\"\r\n        label=\"تأكيد كلمة المرور\"\r\n        className=\"form-control\"\r\n        component={RenderInput}\r\n      />\r\n\r\n      <button\r\n        className=\"btn btn-primary\"\r\n        type=\"submit\"\r\n        disabled={!valid || pristine || submitting}\r\n      >\r\n        Submit\r\n      </button>\r\n\r\n      <ResError errors={errors}/>\r\n    </form>\r\n  );\r\n};\r\nconst validate = values => {\r\n  const errors = {};\r\n\r\n  if (values.username && values.username.length < 4) {\r\n    errors.username = \"اقل عدد منا لحروف هو 4\";\r\n  }\r\n  if (!values.email) {\r\n    errors.email = \"الايميل مطلوب\";\r\n  }\r\n  if (!values.passwordConfirmation) {\r\n    errors.passwordConfirmation = \"ادخل التأكيد\";\r\n  }\r\n  if (values.password !== values.passwordConfirmation) {\r\n    errors.password = \"Password must match\";\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default reduxForm({\r\n  form: \"registerForm\", // a unique identifier for this form,\r\n  validate\r\n})(RegisterForm);\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport RegisterForm from \"./RegisterForm\";\r\nimport * as actions from \"./../../actions\";\r\nexport default class Register extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      errors: [],\r\n      redirect: false\r\n    };\r\n  }\r\n  registerUser = userData => {\r\n    actions.register(userData).then(\r\n      registered => {\r\n        this.setState({ redirect: true });\r\n      },\r\n      errors => {\r\n        this.setState({ errors });\r\n      }\r\n    );\r\n  };\r\n  render() {\r\n    const { errors,redirect } = this.state;\r\n    if(redirect){\r\n        return <Redirect to={{pathname:'/login' ,state:{successRegister:true}}}/>\r\n    }\r\n    return (\r\n      <section id=\"register\">\r\n        <div className=\"app-form\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-5\">\r\n              <h1>تسجيل</h1>\r\n              <RegisterForm submitForm={this.registerUser} errors={errors} />\r\n            </div>\r\n            <div className=\"col-md-6 ml-auto\">\r\n              <div className=\"image-container\">\r\n                <h2 className=\"catchphrase\">\r\n                  As our member you have access to most awesome places in the\r\n                  world.\r\n                </h2>\r\n                <img src={process.env.PUBLIC_URL+'/img/register-img.jpg'} alt=\"reg-img.jpg\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport authservice from \"../../../services/auth-service\";\r\n\r\nexport default props => {\r\n  const { component: Component, ...rest } = props;\r\n  \r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        authservice.isAuthenticated() ? (\r\n          <Component {...props} {...rest} />\r\n        ) : (\r\n          <Redirect to={{ pathname: \"/login\", state: { LoginNeede: true } }} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport authservice from \"../../../services/auth-service\";\r\n\r\nexport default props => {\r\n  const { component: Component, ...rest } = props;\r\n \r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        authservice.isAuthenticated() ? (\r\n          <Redirect to={{ pathname: \"/rentals\"}} />\r\n        ) : (\r\n          <Component {...props} {...rest} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n","import React, { Component } from 'react'\r\n\r\nexport default class NotFound extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                NOTFOUND\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport { connect } from \"react-redux\";\r\nimport RentalList from \"./RentalList\";\r\nimport { fetchRentals } from \"../../../actions\";\r\nclass RentalSearchListing extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n        this.state= {\r\n            searchKeyword: '' \r\n        }\r\n    }\r\n    componentDidMount(){\r\n      \r\n        this.searchRentals();\r\n   }\r\n \r\n   searchRentals=()=>{\r\n    this.setState({\r\n        searchKeyword: this.props.match.params.city\r\n    })\r\n    this.props.fetchRentals(this.props.match.params.city)\r\n   \r\n   }\r\n    renderTitle=()=>{\r\n        \r\n        const {data,errors} = this.props.rentals\r\n        const {searchKeyword} = this.state;\r\n        let title = '';\r\n        if(errors.length > 0){\r\n            \r\n            title= errors[0].detail;\r\n        }\r\n        if(data.length > 0) {\r\n            title = `البيوت والشقق المعروضة لمدينة ${searchKeyword}`\r\n        }\r\n    return  <h1 className=\"page-title\"> {title}</h1>\r\n\r\n    }\r\n  render() {\r\n    return (\r\n        <div className=\"container\">\r\n          <section id=\"rentalListing\">\r\n              {this.renderTitle()}\r\n            <RentalList rentals={this.props.rentals.data} />\r\n          </section>\r\n        </div>  \r\n      );\r\n    \r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      rentals: state.rentals\r\n    };\r\n  };\r\n  export default connect(\r\n    mapStateToProps,\r\n    { fetchRentals }\r\n  )(RentalSearchListing);\r\n  ","import React from 'react'\r\n\r\nexport const RenderTextArea = ({\r\n  input,\r\n  label,\r\n  type,\r\n  rows,\r\n  className,\r\n  meta: { touched, error, warning }\r\n}) => (\r\n  <div className=\"form-group\">\r\n    <label>{label}</label>\r\n    <div className={\"input-group\"}>\r\n      <textarea {...input}  type={type} className={className} />\r\n    </div>\r\n    {touched && (error && <div className=\"alert alert-danger\">{error}</div>)}\r\n  </div>\r\n);\r\n","import React from 'react'\r\n\r\nexport const RenderSelect = ({\r\n  input,\r\n  label,\r\n    options,\r\n  className,\r\n  meta: { touched, error, warning }\r\n}) => {\r\n   const renderOptions=()=>{\r\n       return options.map((option,i)=>{\r\n           return <option key={i} value={option.value}>{option.text}</option>\r\n       })\r\n    }\r\n    return(\r\n        <div className=\"form-group\">\r\n    <label>{label}</label>\r\n    <div className={\"input-group\"}>\r\n      <select {...input} className={className} >\r\n          {renderOptions()}\r\n          </select>\r\n    </div>\r\n    {touched && (error && <div className=\"alert alert-danger\">{error}</div>)}\r\n  </div>\r\n    )\r\n};\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class rentalFileUpload extends Component {\r\n  onChange = e => {\r\n    const {\r\n      input: { onChange }\r\n    } = this.props;\r\n    \r\n    onChange(\r\n      \"https://booksync-jerga-prod.s3.amazonaws.com/uploads/rental/image/13/image.jpeg\"\r\n    );\r\n  };\r\n  render() {\r\n    const {\r\n      label,\r\n      meta: { touched, error }\r\n    } = this.props;\r\n    return (\r\n      <div>\r\n        <div className=\"form-group\">\r\n          <label>{label}</label>\r\n          <div className={\"input-group\"}>\r\n            <input\r\n              type=\"file\"\r\n              accept=\".jpg,.png,.jpeg\"\r\n              onChange={this.onChange}\r\n            />\r\n          </div>\r\n          {touched &&\r\n            (error && <div className=\"alert alert-danger\">{error}</div>)}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { Field, reduxForm ,formValueSelector} from \"redux-form\";\r\nimport { RenderInput } from \"./../../shared/form/renderInput\";\r\nimport { RenderTextArea } from \"./../../shared/form/renderTextArea\";\r\nimport { RenderSelect } from \"./../../shared/form/renderSelect\";\r\nimport RenderFileUpload from \"./../../shared/form/rentalFileUpload\";\r\nimport { ResError } from \"./../../shared/form/ResError\";\r\n\r\nlet CreateRentalForm = props => {\r\n    \r\n  const {\r\n    handleSubmit,\r\n    pristine,\r\n    submitting,\r\n    submitForm,\r\n    options,\r\n    valid,\r\n    errors\r\n  } = props;\r\n  return (\r\n    <form onSubmit={handleSubmit(submitForm)}>\r\n      <Field\r\n        className=\"form-control\"\r\n        name=\"title\"\r\n        label=\"العنوان\"\r\n        type=\"text\"\r\n        component={RenderInput}\r\n      />\r\n\r\n      <Field\r\n        className=\"form-control\"\r\n        name=\"description\"\r\n        label=\"وصف\"\r\n        type=\"text\"\r\n        component={RenderTextArea}\r\n      />\r\n\r\n      <Field\r\n        name=\"city\"\r\n        type=\"text\"\r\n        label=\"city\"\r\n        className=\"form-control\"\r\n        component={RenderInput}\r\n      />\r\n\r\n      <Field\r\n        name=\"street\"\r\n        type=\"text\"\r\n        label=\"street\"\r\n        className=\"form-control\"\r\n        component={RenderInput}\r\n      />\r\n      <Field\r\n        name=\"category\"\r\n        label=\"نوع\"\r\n        className=\"form-control\"\r\n        options={options.categories}\r\n        component={RenderSelect}\r\n      />\r\n      <Field\r\n        name=\"image\"\r\n        label=\"ثورة\"\r\n        className=\"form-control\"\r\n        component={RenderFileUpload}\r\n      />\r\n\r\n      <Field\r\n        name=\"bedrooms\"\r\n        type=\"number\"\r\n        label=\"Rooms\"\r\n        className=\"form-control\"\r\n        component={RenderInput}\r\n      />\r\n      <Field\r\n        name=\"bathrooms\"\r\n        type=\"number\"\r\n        label=\"bathrooms\"\r\n        className=\"form-control\"\r\n        component={RenderInput}\r\n      />\r\n       <Field\r\n        name=\"coin\"\r\n        label=\"العملة\"\r\n        className=\"form-control\"\r\n        options={options.coins}\r\n        component={RenderSelect}\r\n      />\r\n      <Field\r\n        name=\"price\"\r\n        type=\"text\"\r\n        label=\"السعر لليلة\"\r\n        className=\"form-control\"\r\n        sympol={props.coinValue}\r\n        component={RenderInput}\r\n      />\r\n     \r\n          <Field\r\n        name=\"shared\"\r\n        type=\"checkbox\"\r\n        label=\"عائلي  \"\r\n        className=\"form-control\"\r\n        component={RenderInput}\r\n      />\r\n         <Field\r\n        name=\"bargain\"\r\n        type=\"checkbox\"\r\n        label=\"قابل للتفاوض\"\r\n        className=\"form-control\"\r\n        component={RenderInput}\r\n      />\r\n      <button\r\n        className=\"btn btn-primary\"\r\n        type=\"submit\"\r\n        disabled={!valid || pristine || submitting}\r\n      >\r\n        Submit\r\n      </button>\r\n\r\n    <ResError errors={errors}/> \r\n    </form>\r\n  );\r\n};\r\n\r\n\r\n// mapping state => the 'form' state; to props\r\n CreateRentalForm= reduxForm({\r\n  form: \"createRentalForm\" // a unique identifier for this form,\r\n  ,initialValues:{shared:false,bargain:false,coin:'$',category:'شقة'}\r\n})(CreateRentalForm);\r\n\r\nconst selector = formValueSelector('createRentalForm') // <-- same as form name\r\nCreateRentalForm = connect(\r\n  state => {\r\n    // can select values individually\r\n    const coinValue = selector(state, 'coin')\r\n    return {\r\n     coinValue\r\n    }\r\n  }\r\n)(CreateRentalForm)\r\n\r\nexport default CreateRentalForm","import React, { Component } from \"react\";\r\nimport CreateRentalForm from './CreateRentalForm';\r\nimport {Redirect} from 'react-router-dom'\r\nimport * as actions from '../../../actions'\r\n\r\nexport default class CreateRental extends Component {\r\n  constructor(){\r\n    super();\r\n    this.rentalOptions={\r\n      categories: [{value:'شقة',text:'شقة'},{value:'بيت',text:'بيت'},{value:'غرفة',text:'غرفة'},{value:'فلة',text:'فلة'}],\r\n      coins: [{value:'$',text:'دولار'},{value:'YER',text:'ريال يمني'},{value:'SAR',text:'ريال سعودي'}]\r\n    }\r\n    this.state = {\r\n      errors: [],\r\n      redirect: false\r\n    };\r\n  }\r\n\r\n \r\n \r\n    submitForm = (rentalData)=>{\r\n        console.log(rentalData);\r\n        actions.creatRental({...rentalData, assets:[\"حلوة والله\"]}).then(\r\n          created => {\r\n            this.setState({ redirect: true });\r\n          },\r\n          errors => {\r\n            this.setState({ errors });\r\n          }\r\n        );\r\n        \r\n    }\r\n  render() {\r\n    const { errors,redirect } = this.state;\r\n    if(redirect){\r\n        return <Redirect to={{pathname:'/rentals' ,state:{successRegister:true}}}/>\r\n    }\r\n    return (\r\n      <section id=\"newRental\">\r\n        <div className=\"app-form\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-5\">\r\n              <h1 className=\"page-title\">Create Rental</h1>\r\n              <CreateRentalForm submitForm={this.submitForm} options={this.rentalOptions} errors={errors}/>\r\n            </div>\r\n            <div className=\"col-md-6 ml-auto\">\r\n              <div className=\"image-container\">\r\n                <h2 className=\"catchphrase\">\r\n                  Hundreds of awesome places in reach of few clicks.\r\n                </h2>\r\n                <img\r\n                  src={process.env.PUBLIC_URL + \"/img/create-rental.jpg\"}\r\n                  alt=\"\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getBookings } from \"../../actions\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nclass componentName extends Component {\r\n  componentDidMount() {\r\n    this.props.getBookings();\r\n  }\r\n  renderError = errors => {\r\n    if (errors.length > 0) {\r\n      toast.error(\"حدث خطأ! جرب مرة أخرى\");\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  render() {\r\n    const {  data, isFetching } = this.props.bookings;\r\n    debugger;\r\n    return (\r\n      <div>\r\n        {/* <ToastContainer />\r\n        {!this.renderError(errors) &&\r\n          (data.length > 0 ? (\r\n            data.map((booking, i) => {\r\n              return <h1 key={i}>{booking.rental.title}</h1>;\r\n            })\r\n          ) : (\r\n            <h1>....</h1>\r\n          ))} */}\r\n        <section id=\"userBookings\">\r\n          <h1 className=\"page-title\">حجوزاتي</h1>\r\n          <div className=\"row\">\r\n            {data.map((booking, i) => {\r\n              return (\r\n                <div className=\"col-md-4\" key={i}>\r\n                  <div className=\"card text-center\">\r\n                    <div className=\"card-header\">{booking.rental.category}</div>\r\n                    <div className=\"card-block\">\r\n                      <h4 className=\"card-title\">\r\n                        {\" \"}\r\n                        {booking.rental.title} -{booking.rental.city}\r\n                      </h4>\r\n                      <p className=\"card-text booking-desc\">\r\n                        {booking.rental.description}\r\n                      </p>\r\n                      <p className=\"card-text booking-days\">\r\n                        {moment(booking.startAt).format(\"Y/MM/DD\")} -{\" \"}\r\n                        {moment(booking.endAt).format(\"Y/MM/DD\")} |{\" \"}\r\n                        {booking.days} {\"يوم\"}\r\n                      </p>\r\n                      <p className=\"card-text booking-price\">\r\n                        <span>السعر: </span>{\" \"}\r\n                        <span className=\"booking-price-value\">\r\n                          {booking.totalPrice} {booking.rental.coin}\r\n                        </span>\r\n                      </p>\r\n                      <Link\r\n                        className=\"btn btn-app\"\r\n                        to={`/rentaldetails/${booking.rental._id}`}\r\n                      >\r\n                        Go to Rental\r\n                      </Link>\r\n                    </div>\r\n                    <div className=\"card-footer text-muted\">\r\n                      createdAt: {booking.createdAt}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n          {!isFetching && data.length===0 && (\r\n            <div class=\"alert alert-warning\">\r\n                 لايوجد حجوزات لك ، احجز من الحجوزات   \r\n              <Link\r\n                style={{ \"margin-left\": \"10px\" }}\r\n                class=\"btn btn-app\"\r\n                to=\"/rentals\"\r\n              >\r\n                كل العروض\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  bookings: state.userBookings\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getBookings }\r\n)(componentName);\r\n","import React, { Component } from \"react\";\r\nimport Modal from \"react-responsive-modal\";\r\nimport moment from \"moment\";\r\nexport default class RentalBookings extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      open: false\r\n    };\r\n  }\r\n  openModal = () => {\r\n    this.setState({ open: true });\r\n  };\r\n  closeModal = () => {\r\n    this.setState({ open: false });\r\n  };\r\n \r\n  render() {\r\n    const { bookings } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <button type=\"button\" onClick={this.openModal} className=\"btn bg-primary btn-app\">\r\n          Bookings\r\n        </button>\r\n        <Modal\r\n          open={this.state.open}\r\n          onClose={this.closeModal}\r\n          little\r\n          classNames={{ modal: \"rental-booking-modal\" }}\r\n        >\r\n          <h4 className=\"modal-title title\">الحجوزات على العرض</h4>\r\n          <div className=\"modal-body bookings-inner-container\">\r\n            {bookings.map((booking, i) => {\r\n              return (\r\n                <React.Fragment>\r\n                  <p>\r\n                    <span>Date:</span>{\" \"}\r\n                    {moment(booking.startAt).format(\"Y/MM/DD\")} -{\" \"}\r\n                    {moment(booking.endAt).format(\"Y/MM/DD\")}\r\n                  </p>\r\n                  <p>\r\n                    <span>ضيوف :</span> {booking.guests}\r\n                  </p>\r\n                  <p>\r\n                    <span>Total Price:</span> {booking.totalPrice}\r\n                  </p>\r\n                  <hr></hr>\r\n                </React.Fragment>\r\n              );\r\n            })}\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={this.closeModal}\r\n              className=\"btn  bg-primary btn-app\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </Modal>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Link } from \"react-router-dom\";\r\nimport RentalBookings from \"./RentalBookings\";\r\n\r\nimport moment from \"moment\";\r\nexport default class RentalManageCard extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n          \r\n            wantDelete: false\r\n          };\r\n\r\n        }\r\n    showDeleteMenu = () => {\r\n        debugger\r\n        this.setState({\r\n          wantDelete: true\r\n        });\r\n      };\r\n      hideDeleteMenu = () => {\r\n        this.setState({\r\n          wantDelete: false\r\n        });\r\n      };\r\n    \r\n\r\n    render() {\r\n        const {userRental,i,confirmDelete}= this.props;\r\n        return (\r\n            <div key={i} className=\"col-md-4\">\r\n              <div className=\"card text-center\">\r\n                <div className=\"card-block\">\r\n                  <h4 className=\"card-title\">\r\n                    {userRental.title} . {userRental.city}\r\n                  </h4>\r\n                  <Link\r\n                    className=\"btn bg-primary btn-app\"\r\n                    to={`/rentaldetails/${userRental._id}`}\r\n                  >\r\n                    تفاصيل العرض\r\n                  </Link>\r\n                  {userRental.bookings &&\r\n                    userRental.bookings.length > 0 && (\r\n                      <RentalBookings bookings={userRental.bookings} />\r\n                    )}\r\n                </div>\r\n                <div className=\"card-footer text-muted\">\r\n                  Created at{\" \"}\r\n                  {moment(userRental.createdAt).format(\"Y/MM/DD\")}\r\n                  {!this.state.wantDelete && (\r\n                    <button\r\n                      onClick={this.showDeleteMenu}\r\n                      className=\"btn btn-danger\"\r\n                    >\r\n                      حذف\r\n                    </button>\r\n                  )}\r\n                  {this.state.wantDelete && (\r\n                    <div className=\"deleteMenu\">\r\n                      تأكيد الحذف؟\r\n                      <button\r\n                        onClick={() => {\r\n                         confirmDelete(userRental._id, i);\r\n                        }}\r\n                        className=\"btn btn-success\"\r\n                      >\r\n                        نعم\r\n                      </button>\r\n                      <button\r\n                        onClick={this.hideDeleteMenu}\r\n                        className=\"btn btn-danger\"\r\n                      >\r\n                        لا\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );}\r\n}\r\n","import React, { Component } from \"react\";\r\nimport * as actions from \"../../actions\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\n\r\nimport RentalManageCard from \"./RentalManageCard\";\r\n\r\nexport default class RentalManage extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      userRentals: [],\r\n      errors: [],\r\n      isFetching: true,\r\n    \r\n    };\r\n  }\r\n  componentDidMount() {\r\n    actions\r\n      .getRentals()\r\n      .then(userRentals => this.setState({ userRentals, isFetching: false }))\r\n      .catch(errors => this.setState({ errors, isFetching: false }));\r\n  }\r\n  confirmDelete = (rentalId, rentalIndex) => {\r\n    actions\r\n      .deleteRental(rentalId)\r\n      .then(() => {\r\n        debugger\r\n        this.deleteFromRentalUserState(rentalIndex);\r\n      },(err)=>{\r\n        debugger \r\n          toast.error(err[0].detail)\r\n      })\r\n    \r\n  }\r\n  deleteFromRentalUserState = index => {\r\n    this.setState((prevState) => ({\r\n      userRentals: prevState.userRentals.filter((_, i) => i !== index)\r\n    }));\r\n  \r\n  };\r\n\r\n  render() {\r\n    const { userRentals, isFetching } = this.state;\r\n    return (\r\n      <div>\r\n        <section id=\"userRentals\">\r\n          <ToastContainer />\r\n          <h1 className=\"page-title\">عروضي</h1>\r\n          <div className=\"row\">\r\n            {userRentals.map((userRental, i) => {\r\n              return <RentalManageCard userRental={userRental} i={i} confirmDelete={this.confirmDelete} />;\r\n            })}\r\n          </div>\r\n          {!isFetching && userRentals.length === 0 && (\r\n            <div className=\"alert alert-warning\">\r\n              You dont have any rentals currenty created. If you want advertised\r\n              your property please follow this link.\r\n              <Link\r\n                style={{ marginLeft: \"10px\" }}\r\n                className=\"btn  bg-primary btn-app\"\r\n                to=\"/rentals/new\"\r\n              >\r\n                أضف عرض\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Switch, Route, Redirect,withRouter } from \"react-router-dom\";\r\nimport {connect } from 'react-redux'\r\nimport Header from \"./components/shared/header\";\r\nimport RentalListing from \"./components/rentals/rental-listing/RentalListing\";\r\n\r\nimport RentalDetail from \"./components/rentals/rental-details/RentalDetail\";\r\nimport \"./App.scss\";\r\nimport Login from \"./components/login/Login\";\r\nimport Register from \"./components/register/Register\";\r\nimport ProtectedRoute from './components/shared/auth/ProtectedRoute'\r\nimport LoggedInRoute from './components/shared/auth/LoggedInRoute';\r\nimport NotFound from './components/shared/NotFound';\r\n\r\nimport {checkAuth,logout} from './actions'\r\nimport RentalSearchListing from \"./components/rentals/rental-listing/RentalSearchListing\";\r\nimport CreateRental from \"./components/rentals/rental-create/CreateRental\";\r\nimport BookingManage from \"./components/booking/BookingManage\";\r\nimport RentalManage from \"./components/rentals/RentalManage\";\r\n\r\nclass  App extends React.Component {\r\n  componentDidMount(){\r\n    this.props.checkAuth()\r\n  }\r\n  logoutUser=()=>{\r\n    this.props.logout()\r\n  }\r\n  render(){\r\n    return (\r\n      <React.Fragment>\r\n        <Header logout={this.logoutUser}/>\r\n  \r\n        <div className=\"container\">\r\n          <Switch>\r\n          <Route\r\n              path=\"/rentals/:city/homes\"\r\n              component={props => <RentalSearchListing {...props} />}\r\n            />\r\n              <ProtectedRoute\r\n              path=\"/bookings/manage\"\r\n              exact\r\n              component={BookingManage}\r\n            />\r\n            \r\n             <ProtectedRoute \r\n              path=\"/rentals/manage\"\r\n              exact\r\n              component={RentalManage}\r\n            />\r\n            \r\n             <ProtectedRoute\r\n              path=\"/rentals/create\"\r\n              exact\r\n              component={CreateRental}\r\n            />\r\n            <Route\r\n              path=\"/rentaldetails/:id\"\r\n              exact\r\n              component={RentalDetail}\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/rentals\"\r\n              component={props => <RentalListing {...props} />}\r\n            />\r\n             <Route\r\n              path=\"/login\"\r\n              component={props => <Login {...props} />}\r\n            />\r\n            <LoggedInRoute\r\n              path=\"/register\"\r\n              component={props => <Register {...props} />}\r\n            />\r\n             <Route\r\n              path={`/not-found`}\r\n              component={NotFound}\r\n            />\r\n            <Redirect from=\"/\" exact to=\"/rentals\" />\r\n           \r\n          </Switch>\r\n        </div>\r\n        <br></br>\r\n        <br></br>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(\r\n  null,\r\n  { checkAuth,logout }\r\n)(App));","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport 'font-awesome/css/font-awesome.min.css';\r\nimport 'react-toastify/dist/ReactToastify.min.css'\r\nimport App from \"./App\";\r\nimport 'bootstrap-daterangepicker/daterangepicker.css';\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nconst store = require(\"./reducers\").init();\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter basename='/'>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// mongodb+srv://YaharajahUser:<password>@cluster0-uroi5.mongodb.net/test?retryWrites=true&w=majority\r\n//If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import {\r\n  FETCH_RENTALS,\r\n  FETCH_RENTAL_By_ID,\r\n  FETCH_RENTAL_By_ID_INIT,\r\n\r\n  FETCH_RENTALS_INIT,\r\n  FETCH_RENTALS_FAIL\r\n} from \"./../actions/types\";\r\nlet INITIAL_STATE = {\r\n  rentals: {\r\n    data: [],\r\n    errors:[]\r\n  },\r\n  rental: {\r\n    data: []\r\n  }\r\n};\r\nexport const rentalReducer = (state = INITIAL_STATE.rentals, action) => {\r\n  switch (action.type) {\r\n    case FETCH_RENTALS_INIT:\r\n    return {...state, data:[], errors:[]}\r\n    case FETCH_RENTALS:\r\n    return { ...state, data: action.payload , errors:[]};\r\n    case FETCH_RENTALS_FAIL:\r\n        return { ...state, errors: action.payload , data:[]};\r\n          \r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const rentalDetailReducer = (state = INITIAL_STATE.rental, action) => {\r\n  switch (action.type) {\r\n    case FETCH_RENTAL_By_ID_INIT:\r\n      return { ...state, data: {} };\r\n\r\n    case FETCH_RENTAL_By_ID:\r\n      return { ...state, data: action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAILURE,\r\n    LOGOUT\r\n  } from \"./../actions/types\";\r\n  let INITIAL_STATE = {\r\n    isAuth:false,\r\n    errors:[],\r\n    username:''\r\n  };\r\n  export const authReducer = (state = INITIAL_STATE, action) => {\r\n    switch (action.type) {\r\n      case LOGIN_SUCCESS:\r\n        return { ...state, isAuth:true,errors:[], username:action.payload };\r\n        case LOGIN_FAILURE:\r\n        return Object.assign({},state, {errors:action.payload})\r\n        case LOGOUT:\r\n          return Object.assign({},state, {isAuth:false, username:''})\r\n      \r\n      default:\r\n        return state;\r\n    }\r\n  };","import {\r\n  FETCH_BOOKINGS_FAIL,\r\n  FETCH_BOOKINGS_INIT,\r\n  FETCH_BOOKINGS_SUCCESS\r\n} from \"../actions/types\";\r\n\r\nconst INITIAL_STATE = {\r\n  bookings: {\r\n    data: [],\r\n    errors: [],\r\n    isFetching:false\r\n  }\r\n};\r\nexport const bookingReducer = function(state = INITIAL_STATE.bookings, action) {\r\n  switch (action.type) {\r\n    case FETCH_BOOKINGS_INIT:\r\n      return { ...state, data: [], errors: [],isFetching:true };\r\n    case FETCH_BOOKINGS_SUCCESS:\r\n      return { ...state, data: action.payload, errors: [],isFetching:false };\r\n    case FETCH_BOOKINGS_FAIL:\r\n      return { ...state, data: [], errors: action.payload,isFetching:false };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import thunk from \"redux-thunk\";\r\nimport { rentalReducer, rentalDetailReducer } from \"./rentalReducer\";\r\nimport { authReducer } from \"./auth-reducer\";\r\nimport { bookingReducer} from \"./booking-reducer\";\r\nimport { createStore, applyMiddleware, compose, combineReducers } from \"redux\";\r\nimport {reducer as formResucer} from 'redux-form'\r\n\r\nexport const init = () => {\r\n  const reducers = combineReducers({\r\n    rentals: rentalReducer,\r\n    rental: rentalDetailReducer,\r\n    form: formResucer,\r\n    auth:authReducer,\r\n    userBookings: bookingReducer\r\n  });\r\n\r\n  const composeEnhancer =\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n  const store = createStore(reducers, composeEnhancer(applyMiddleware(thunk)));\r\n  return store;\r\n};\r\n"],"sourceRoot":""}